const notificationContainer=document.getElementById("notifications");function fetchNotifications(){const n=document.createElement("div");fetch("/api/notifications/fetch").then(n=>n.json()).then(t=>{0==t.length?(n.innerHTML="\n                    <h5>You don't have any notifications.</h5>\n                ",notificationContainer.prepend(n)):t.forEach(n=>{let t=document.createElement("div");t.innerHTML=`\n                    <li id=${n._id} class="list-group-item shadow-sm rounded-lg mb-2">\n                        <i style="float:right" type="button" class="btn-close" aria-label="Close" role="button"></i>\n                        <h3 align="left"><b>${n.fullName}</b> sent you a friend request</h3>\n                        <p align="right">\n                            <a href="/user/${n.accountId}" class="btn btn-primary">\n                                Go to profile\n                            </a>\n                            <button class="accept btn btn-success">\n                                Accept Request\n                            </button>\n                            <button class="accept btn btn-danger">\n                                Decline Request\n                            </button>\n                        </div>\n                    </li>\n                    `,notificationContainer.prepend(t),document.querySelectorAll(".btn-close").forEach(n=>{n.addEventListener("click",closeNotificationContainer)})})}).catch(n=>console.error(n))}function closeNotificationContainer(){let n=this.parentNode;fetch(`/api/notifications/fetch/?dismiss=true&notification=${n.id}`).then(n=>n.json()).then(t=>{console.log(t),n.innerHTML=""}).catch(n=>console.error(n))}window.addEventListener("load",fetchNotifications);