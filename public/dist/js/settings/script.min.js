let deleteButton=document.getElementById("deleteAccount"),privacyCheckbox=document.getElementById("isPrivate");function deleteAccount(){let e=document.getElementById("message");fetch("/api/accounts/delete",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>e.json()).then(t=>{e.innerHTML="<p class='mt-3'>Your account has been deleted. <a href='/'>Go back to the main page</a></p>"}).catch(t=>e.innerText=t.toString())}function updatePrivacy(){let e=document.getElementById("acUpdateStatus"),t=document.getElementById("currentStatus");privacyCheckbox.checked?(privacyCheckbox.setAttribute("value",!0),fetch("/api/updateAccount/?privacy=true",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(t=>{t.json(),e.innerText=""}).then(n=>{e.innerText="OK. UPDATED",t.innerText="Private Account",setTimeout(()=>e.innerText="",3e3)}).catch(t=>{e.innerText=t.toString()})):(privacyCheckbox.setAttribute("value",!1),fetch("/api/updateAccount/?privacy=false",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(t=>{t.json(),e.innerText=""}).then(n=>{e.innerText="OK. UPDATED",t.innerText="Public Account",setTimeout(()=>e.innerText="",3e3)}).catch(t=>{e.innerText=t.toString()}))}deleteButton.addEventListener("click",deleteAccount),privacyCheckbox.addEventListener("change",updatePrivacy);